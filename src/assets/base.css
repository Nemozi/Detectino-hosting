:root {
  /* nur Variablen hier rein */
  --primary-color: #42b983;
  --secondary-color: #35495e;
  --background-color: #D5B942;
  --secondary-background-color: #D9D375;
  --text-color: #2c3e50;
  --white-color: #ffffff;

  --bg-start: #F2EFE5;
  --bg-end: #E3DCC5;
  --card-bg: #edc531;
  --text-main: #000;
  --text-sub: #444;
  --accent: #000;
  --radius: 0;
  --border: 0.0625rem solid #1a1a1a;
  --shadow: 0.25rem 0.25rem 0 rgba(0,0,0,0.1);

   --card-bg: #edc531;
  --border-color: #000;
  --shadow-offset: 0.375rem;
}

html, body {
  margin: 0;
  padding: 0;
  min-height: 100%;
}

body {
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, var(--bg-start), var(--bg-end));
  z-index: -1;
  pointer-events: none;
}
/* 1. Die Haupt-Karte */
.neo-card {
  background: var(--card-bg);
  border: 2px solid var(--border-color);
  padding: 1.5rem;
  box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--border-color);
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* 2. Der Standard-Button */
.neo-btn {
  width: 100%;
  padding: 1.125rem;
  background: #000;
  color: #fff;
  border: none;
  font-weight: 700;
  text-transform: uppercase;
  cursor: pointer;
  font-size: 1rem;
  letter-spacing: 0.05em;
  transition: transform 0.1s;
}

.neo-btn:hover:not(:disabled) {
  background: #333;
}

.neo-btn:active:not(:disabled) {
  transform: translate(2px, 2px);
}

.neo-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* 3. Container für Level */
.level-container {
  width: 100%;
  max-width: 50rem;
  margin: 0 auto;
  padding: 0 1rem 2rem 1rem;
  box-sizing: border-box;
}

/* 4. Überschriften in Karten */
.neo-title {
  margin-top: 0;
  font-size: clamp(1.2rem, 5vw, 1.6rem);
  line-height: 1.2;
  text-transform: uppercase;
  font-weight: 800;
}
.neo-feedback {
  background: #fff;
  border: 2px solid var(--border-color); /* nutzt Variable */
  padding: 1rem;
  margin-top: 1.5rem;
  text-align: center;
  font-weight: 700;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* NEU: Hilfsklassen für Textfarben */
.text-success { color: #00aa00; }
.text-fail { color: #aa0000; }

/* --- TINDER CARD STACK (Global) --- */
.stack-container {
  position: relative;
  width: 100%;
  max-width: 400px;
  aspect-ratio: 4/5;
  margin: 0 auto 1.5rem auto;
  perspective: 1000px;
  
  /* Schneidet wegfliegende Karten ab */
  overflow: hidden; 
  
  /* Sicherheitsabstand für Schatten/Border */
  padding: 10px; 
  box-sizing: border-box;
}

.stack-card {
  position: absolute;
  /* WICHTIG: Wir rücken die Karte ein, damit Border & Schatten sichtbar bleiben */
  top: 10px;
  left: 10px;
  width: calc(100% - 20px);
  height: calc(100% - 20px);
  
  background: #000;
  border: 0.2rem solid var(--border-color);
  
  /* Der Schatten hat jetzt Platz im Container */
  box-shadow: 5px 5px 0 rgba(0,0,0,0.2);
  
  cursor: grab;
  touch-action: pan-y; 
  border-radius: 0; 
  
  /* Zentriert das Bild */
  display: flex;
  justify-content: center;
  align-items: center;
}

.stack-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
}

/* --- NAVIGATION & HINWEISE --- */
.stack-controls {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.stack-nav-btn {
  background: #fff;
  border: 2px solid #000;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 3px 3px 0 #000;
}

.stack-nav-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 1px 1px 0 #000;
}

.stack-counter {
  text-align: center;
  font-weight: bold;
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 0.5rem;
}

/* --- VUE TRANSITIONS (Die Animation) --- */
/* Vorwärts (Nach links raus) */
.slide-left-leave-active,
.slide-left-enter-active {
  transition: all 0.3s ease-out;
}
.slide-left-leave-to {
  transform: translateX(-120%) rotate(-10deg);
  opacity: 0;
}
.slide-left-enter-from {
  transform: translateX(100%);
  opacity: 0;
}

/* Rückwärts (Von links wieder rein) */
.slide-right-leave-active,
.slide-right-enter-active {
  transition: all 0.3s ease-out;
}
.slide-right-leave-to {
  transform: translateX(120%) rotate(10deg);
  opacity: 0;
}
.slide-right-enter-from {
  transform: translateX(-100%);
  opacity: 0;
}

/* --- ZOOM MODAL (Verbessert) --- */
.zoom-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95); /* Dunklerer Hintergrund */
  z-index: 10000; /* Ganz oben */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  touch-action: none;
}

.zoom-content {
  max-width: 95%;
  max-height: 85vh;
  object-fit: contain;
  border: 2px solid #fff;
  box-shadow: 0 0 25px rgba(0,0,0,0.8);
}

.zoom-close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #fff;
  color: #000;
  border: 2px solid #000;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 1.5rem;
  font-weight: bold;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 10001;
}
/* --- UNIVERSAL GRID --- */
.neo-grid-2 {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr;
  width: 100%;
}
@media (min-width: 600px) {
  .neo-grid-2 { grid-template-columns: 1fr 1fr; }
}

/* --- UNIVERSAL IMAGE WRAP (Zoomable) --- */
.neo-img-wrap {
  border: 2px solid var(--border-color);
  background: #000;
  position: relative;
  aspect-ratio: 4/5; /* Einheitliches Format für alle Spielbilder */
  cursor: zoom-in;
  overflow: hidden;
  box-sizing: border-box;
}
.neo-img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  pointer-events: none; /* Wichtig für Swiping/Clicks auf dem Container */
}

/* --- UNIVERSAL OPTIONS LIST (Radio/Checks) --- */
.neo-options-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  width: 100%;
  margin: 1.5rem 0;
}
.neo-option {
  border: 2px solid var(--border-color);
  padding: 1rem;
  background: #fff;
  cursor: pointer;
  font-weight: 700;
  text-transform: uppercase;
  transition: all 0.1s;
  display: flex;
  align-items: center;
  gap: 10px;
}
.neo-option:hover:not(.disabled) {
  box-shadow: 4px 4px 0 #000;
}
.neo-option.selected {
  background: #000;
  color: #fff;
  transform: translate(0, 0);
  box-shadow: none;
}
.neo-option input[type="radio"], .neo-option input[type="checkbox"] {
  accent-color: #000;
}

/* --- UNIVERSAL BADGES --- */
.neo-badge {
  position: absolute;
  padding: 0.5rem 1rem;
  font-weight: 900;
  color: #fff;
  border: 2px solid #fff;
  z-index: 10;
  text-transform: uppercase;
  pointer-events: none;
}
.neo-badge.top-right { top: 10px; right: 10px; font-size: 0.8rem; background: #000; }
.neo-badge.center {
  top: 50%; left: 50%; transform: translate(-50%, -50%);
  font-size: 1.5rem; box-shadow: 4px 4px 0 #000;
}
.neo-badge.correct { background: #00aa00; }
.neo-badge.wrong { background: #ff3333; }
/* --- COMPONENT HEADER (Titel + Timer/Score) --- */
.neo-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  width: 100%;
  margin-bottom: 1.5rem;
}

/* --- STATUS PILLS (Für Timer, Counter, Badges) --- */
.neo-pill {
  background: #000;
  color: #fff;
  padding: 0.4rem 0.8rem;
  font-weight: 900;
  border: 2px solid #000;
  text-transform: uppercase;
  font-size: 0.9rem;
  white-space: nowrap;
  box-shadow: 3px 3px 0 rgba(0,0,0,0.2);
}
.neo-pill.white { background: #fff; color: #000; }
.neo-pill.critical { background: #ff3333; animation: pulse 0.5s infinite; }

/* --- SELECTION BUTTON (Der Weiß-zu-Schwarz Wechsler) --- */
.neo-btn-toggle {
  width: 100%;
  padding: 1.125rem;
  background: #fff;
  color: #000;
  border: 2px solid #000;
  font-weight: 800;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 4px 4px 0 #000;
  transition: all 0.1s;
}
.neo-btn-toggle:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 #000; }
.neo-btn-toggle.active { background: #000; color: #fff; transform: translate(0, 0); box-shadow: none; }

/* --- INFO/CREDIT BOX --- */
.neo-info-box {
  margin: 1.5rem 0;
  padding: 1rem;
  background: #fff;
  border: 2px solid #000;
  font-size: 0.85rem;
  line-height: 1.5;
  box-shadow: 4px 4px 0 rgba(0,0,0,0.1);
}
.neo-info-box a { color: #000; font-weight: 800; text-decoration: underline; }

/* Hilfs-Animation für kritische Zustände */
@keyframes pulse { 50% { transform: scale(1.05); } }  
/* --- GLOBAL LEVEL LAYOUT --- */
.level-container { 
    width: 100%; max-width: 50rem; margin: 0 auto; padding: 1rem 1rem 3rem 1rem; box-sizing: border-box; 
}
.level-header-title { 
    text-align: left; font-weight: 800; text-transform: uppercase; margin-bottom: 1rem; border-bottom: 3px solid #000; padding-bottom: 0.5rem; font-size: 1.2rem; 
}

/* --- GLOBAL PROGRESS BAR --- */
.level-progress-bar { margin-bottom: 1.5rem; font-weight: 800; text-transform: uppercase; font-size: 0.8rem; }
.progress-track { width: 100%; height: 10px; background: #fff; border: 2px solid #000; margin-top: 5px; }
.progress-fill { height: 100%; background: #000; transition: width 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

/* --- LOADING SCREEN --- */
.loading-screen { 
    display: flex; flex-direction: column; justify-content: center; align-items: center; height: 60vh; font-size: 1.5rem; font-weight: bold; text-transform: uppercase; gap: 1rem;
}
.loader-spinner { width: 40px; height: 40px; border: 5px solid #eee; border-top: 5px solid #000; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
/* In base.css ergänzen falls noch nicht geschehen */
.level-progress-bar { margin-bottom: 1.5rem; font-weight: 800; text-transform: uppercase; font-size: 0.9rem; }
.progress-track { width: 100%; height: 12px; background: #fff; border: 2px solid #000; margin-top: 5px; }
.progress-fill { height: 100%; background: #000; transition: width 0.3s ease; }
.score-display { font-size: 3rem; font-weight: 900; margin: 1rem 0; text-align: center; }


/* --- Option Button Styling--- */
.option-btn { background: #fff; border: 2px solid #000; padding: 0.8rem; text-align: left; cursor: pointer; font-weight: 800; text-transform: uppercase; }
.option-btn.selected { background: #000; color: #fff; }
.option-btn.correct { background: #00aa00; color: #fff; }
.option-btn.wrong { background: #ff3333; color: #fff; }
.options-stack { display: flex; flex-direction: column; gap: 0.5rem; margin: 1rem 0; width: 100%; }

/* --- DEFINITIVE GLOBAL SLIDER STYLING --- */
input[type=range] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  background: transparent; /* Versteckt die Standard-Schiene */
  height: 40px; /* Wichtig für die Klickfläche */
  margin: 0;
}

input[type=range]:focus {
  outline: none;
}

/* --- TRACK (Die Schiene) --- */
/* Chrome, Safari, Edge */
input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 8px;
  background: #000;
  border: 1px solid #000;
}

/* Firefox */
input[type=range]::-moz-range-track {
  width: 100%;
  height: 8px;
  background: #000;
  border: 1px solid #000;
}

/* --- THUMB (Der Griff) --- */
/* Chrome, Safari, Edge */
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 24px;
  width: 24px;
  background: var(--card-bg, #edc531);
  border: 3px solid #000;
  margin-top: -10px; 
  cursor: pointer;
  border-radius: 1rem; 
  box-shadow: 2px 2px 0 #000;
}

/* Firefox */
input[type=range]::-moz-range-thumb {
  height: 24px;
  width: 24px;
  background: var(--card-bg, #edc531);
  border: 3px solid #000;
  cursor: pointer;
  border-radius: 1rem; 
  box-shadow: 2px 2px 0 #000;
}